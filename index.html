<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="app.js"></script>
  <title>TO-DO LIST</title>
</head>
<body>
    <main>
      <div class="header">
          <img src="img/white2.png"/>&nbsp;&nbsp;<span>todo list</span>
         
      </div>
      <div class="content">

        <div class="container">

          <div class="column">
              <div class="container-header">
                <span>todo</span>
              </div>
              <div class="todo-list">
                   <ul class="list-group" id="newList"></ul>
              </div>
          </div> 
          
          <div class="column" >
              <div class="container-header">
                  <span>in progress</span>
                </div>
                <div class="todo-list">
                    <ul class="list-group" id="currentList"></ul>
                </div> 
          </div>
          
          <div class="column">
              <div class="container-header">
                  <span>done</span>
                </div>
          </div>
        </div>
        <br>
        <button id="my-button">&nbsp;&nbsp;&nbsp;&nbsp;<img src="img/book.png" height="22px;"/>&nbsp;&nbsp;&nbsp;&nbsp;</button>  
        <span class="span"><input type="text" id="my-input"></span>
        <button id="add-button"><i>add task</i></button>
      <div class="footer"></div>  
    </main>
    <script>    

        
        const list = [];
        function Task(task) {
          this.task = task;
          this.id = "new";
        }
        function addTask(task) {
          if (task) {
            const newTask = new Task(task);
            list.push(newTask);
            document.getElementById("my-input").value = "";

            const taskElem = document.createElement("li");
            taskElem.id = "item";

            const item = document.getElementById("newList").appendChild(taskElem);
            item.innerHTML = `
                  <a id="new" class="list-group-item">
                    ${newTask.task}
                    <span id="buttons" style="float:right;" >
                      <img src="img/move.png" height="30px;" class="next" id="next"/>
                      <img src="img/trash.png" height="30px;"/>
                      </span>
                  </a>
                `;
          }
        }

        document
          .getElementById("add-button")
          .addEventListener("click", function(event) {
            event.preventDefault();
            const task = document.getElementById("my-input").value.trim();
            addTask(task);
          });
          
          document.getElementById("newList").addEventListener("click", function(event) {
            if(e.target.classList.contains("next")){
              if(confirm("Move to Progress?"))
              {
                  const btn = document.createElement('button');
                  btn.className = "back";
                  btn.innerHTML = "Back";
                  e.target.parentElement.append(btn);
                  document.getElementById('currentList').append(e.target.parentElement.parentElement);
              }
 }
        });
    </script>
</body>
</html>